{#-
  Custom toc-item template that respects page.meta.toc_depth
  When toc_depth is 1, only show top-level items (no children)
-#}
<li class="md-nav__item">
  <a href="{{ toc_item.url }}" class="md-nav__link">
    <span class="md-ellipsis">
      {% if toc_item.typeset %}
        <span class="md-typeset">
          {{ toc_item.typeset.title }}
        </span>
      {% else %}
        {{ toc_item.title }}
      {% endif %}
    </span>
  </a>
  {% if toc_item.children and page.meta.toc_depth != 1 and page.meta.toc_depth != "1" %}
    <nav class="md-nav" aria-label="{{ toc_item.title | striptags | e }}">
      <ul class="md-nav__list">
        {% for toc_item in toc_item.children %}
          {% include "partials/toc-item.html" %}
        {% endfor %}
      </ul>
    </nav>
  {% endif %}
</li>
